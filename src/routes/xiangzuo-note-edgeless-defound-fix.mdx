---
date: 2024-11-08T20:31:16.159051206+08:00
description: 太厉害了享做笔记
categories:
  - 记录
tags:
  - fix
  - 享做笔记
  - 无界笔记

title: 无界笔记玩脱修复
---


享做笔记有个无界笔记的功能，具体就是可以在无限画布上写字，过去几个月一直在同一个文档上面记一些东西，但是前几天进行了一个操作，刚睡醒有点迷糊的时候把缩放缩到最小了，然后手滑slide了一下；我写字的那块区域就不知道划到哪里去了。

确认没有复位的功能后，我左划右划找了几分钟，还尝试导出pdf或图片，但是只能导出当前显示的区域，显然是一片空白。也试过合并笔记看能不能重置某个一骑绝尘的坐标数值，但是合并只能分页。

对比研究了一下空白无界文档的储存数据最后琢磨出一个办法，供后来者参考:

1. 在笔记略缩图的右下角三点点开详情，找到nc文件路径。
2. 文件管理器打开这个文件的目录下的同名文件夹。
3. 找到里面 `note_page` 开头 `.p` 结尾的文件，这是它的分页文件，通常只有一个(多个的话全部进行以下操作)
   注意到文件可能会比较大（比如我改的20M+）所以手机的文本编辑器如果打不开建议电脑打开。
4. 打开它，**并将享做笔记软件杀掉后台**。

它们的储存格式包含肉眼可见的json字符串（以 UTF-8 解析），打开之后全局搜索 `offsetX` `offsetY` `scaleX` `scaleY` （可能都存在不止一个），然后把数值全部改成0到1之间。

它的偏移值原点是第一笔写下的位置，所以大差不差改成个位数量级就能在下次打开的时候重置到你写了东西的地方。


```json
// many other data....
{
  "layerInfos": [
    {
      "end": 0,
      "ends": [18998],
      "layerUUID": "818ad4d7-f9cd-4aee-8a24-7e31b13ddccf",
      "name": "图层1",
      "show": true,
      "start": 0,
      "starts": [0]
    }
  ],
  "limited": false,
  "lockEdge": 0,
  "materialSize": 0,
  "name": "",
  "noteVersion": 6,
  "orientation": "0",
  "origin": false,
  "reserve": "5d",
  "shapeMatrix": {
    "angle": 0.0,
    "offsetX": -923184.2462, // [!code --]
    "offsetX": 0.5, // [!code ++]
    "offsetY": -211099.5676, // [!code --]
    "offsetY": 0.5, // [!code ++]
    "rotateRect": null,
    "scaleX": 0.09511411, // [!code --]
    "scaleX": 0.5, // [!code ++]
    "scaleY": 0.09511411 // [!code --]
    "scaleX": 0.5, // [!code ++]
  },
  "type": "0",
  "usn": 1539,
  "version": 1,
  "width": 1487.0
}
// many other data....
```

ps: 感觉享做的工程质量和notein还是有挺大差距的，notein的无限画布大小是跟随最后一笔渲染的。
